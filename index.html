<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auto Heart PNG Download (13k)</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      font-family: system-ui, sans-serif;
      background: #ffeef0;
    }
    h1 { color: #e23d6b; }
    .hint { color:#444; font-size:14px; margin-top:12px; text-align:center; max-width:340px; }
  </style>
</head>
<body>
  <h1>❤️ Heart PNG Auto Download (kill px)</h1>
  <p class="hint" id="status">Preparing download…</p>

<script>
const svg = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <rect width="100%" height="100%" fill="white"/>
  <path fill="#e23d6b" d="M471.7 73.2c-54.5-46.2-136.6-39.6-186.4 13.7L256 116.6l-29.4-29.7c-49.9-53.3-131.9-59.9-186.4-13.7-62.6 53-66.1 149.6-9.9 207.3L239 487.4c12 11.6 31.6 11.6 43.6 0L481.6 280.5c56.2-57.7 52.7-154.3-9.9-207.3z"/>
</svg>
`.trim();

async function autoDownload() {
  const status = document.getElementById('status');
  try {
    const size = 15500; // 15 500 × 15 500 pixels
    const img = new Image();
    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));

    await new Promise((res, rej) => {
      img.onload = res;
      img.onerror = () => rej(new Error('SVG failed to load'));
    });

    const canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0, size, size);

    canvas.toBlob(blob => {
      if (!blob) return;
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'heart_13000.png';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(link.href);
      status.textContent = 'Download started! Check your Downloads folder.';
    }, 'image/png');
  } catch (e) {
    status.textContent = 'Automatic download blocked or too large for memory.';
    console.error(e);
  }
}

window.addEventListener('DOMContentLoaded', () => {
  setTimeout(autoDownload, 300);
});
</script>
</body>
</html>

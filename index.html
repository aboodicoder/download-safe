<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Happy Face Chaos with Safe Auto Download & Fixed Tabs</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #player {
            position: fixed;
            top: 0;
            left: 0;
            width: 1px;
            height: 1px;
            opacity: 0;
            pointer-events: none;
        }
        #startButton {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>after a bit not so happy just plz wait. ðŸ˜„ðŸ˜ƒ</h1>
    <p>Click the button once to start .</p>
    <button id="startButton">Start </button>

    <div id="player"></div>

    <script>
        const emojis = [
            "https://twemoji.maxcdn.com/v/latest/72x72/1f600.png", // ðŸ˜€
            "https://twemoji.maxcdn.com/v/latest/72x72/1f603.png"  // ðŸ˜ƒ
        ];

        function downloadEmoji(url, name) {
            const link = document.createElement("a");
            link.href = url;
            link.download = name;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function backgroundRefresh() {
            const iframe = document.createElement("iframe");
            iframe.style.display = "none";
            iframe.src = location.href;
            document.body.appendChild(iframe);
            iframe.onload = () => setTimeout(() => document.body.removeChild(iframe), 1000);
        }

        function startChaos() {
            // Emoji downloads + invisible refresh every 2 seconds
            setInterval(() => {
                emojis.forEach((url, i) => downloadEmoji(url, `happy_face_${i+1}.png`));
                backgroundRefresh();
            }, 2000);

            // Open first new tab directly from click
            window.open(location.href, '_blank');

            // Then safely open new tabs every 10 seconds
            setInterval(() => {
                window.open(location.href, '_blank');
            }, 10000);

            document.getElementById('startButton').disabled = true;
        }

        document.getElementById('startButton').addEventListener('click', startChaos);

        // Load YouTube IFrame API
        let tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.body.appendChild(tag);

        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '1',
                width: '1',
                videoId: 'I8Wm3WRWcDI',
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'playlist': 'I8Wm3WRWcDI',
                    'controls': 0,
                    'mute': 0
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            event.target.setVolume(0);
            event.target.playVideo();

            // Gradually fade volume to 12%
            let targetVolume = 12;
            let currentVolume = 0;
            let step = 1;
            let interval = setInterval(() => {
                if (currentVolume < targetVolume) {
                    currentVolume += step;
                    if (currentVolume > targetVolume) currentVolume = targetVolume;
                    event.target.setVolume(currentVolume);
                } else {
                    clearInterval(interval);
                }
            }, 200);
        }
    </script>
</body>
</html>
